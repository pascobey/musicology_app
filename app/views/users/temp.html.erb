<div class="d-flex flex-column" style="height:100vh;width:100vw;background-color:black;">
    <div class="d-flex flex-row justify-content-center">
        <h1 class="text-light">Complete Graph</h1>
    </div>
    <div class="d-flex flex-row mx-2 mb-2 border border-rounded bg-light" style="height:100%;">
        <% vertices_count = 20 %>
        <% center = {:x => 50, :y => 50} %>
        <% if vertices_count == 1 %>
            <svg id="graph-window" width="100%" height="100%">
                <circle cx="<%= center[:x] %>%" cy="<%= center[:y] %>%" r="1%"></circle>
            </svg>
        <% else %>
            <% q_one_bound_rad = Math::PI / 2 %>
            <% q_two_bound_rad = Math::PI %>
            <% q_three_bound_rad = 3 * Math::PI / 2 %>
            <% vertices_coordinates = {} %>
            <% i = 1 %>
            <% build_angle_sum_rad = 0 %>
            <% circumradius = 45 %>
            <% central_angle_rad = (360.0/vertices_count) * Math::PI / 180 %>
            <svg id="graph-window" width="100%" height="100%">
                <% until i == (vertices_count + 1) %>
                    <% if i == 1 %>
                        <% vertices_coordinates.merge!( i => { :x => center[:x], :y => ( center[:y] - circumradius ) } )  %>
                    <% elsif %>
                        <% if build_angle_sum_rad <= q_one_bound_rad %>
                            <% opposite = circumradius * Math.sin(build_angle_sum_rad) %>
                            <% adjacent = circumradius * Math.cos(build_angle_sum_rad) %>
                            <% vertices_coordinates.merge!(i => { :x => ( center[:x] - opposite ), :y => ( center[:y] - adjacent) }) %>
                        <% elsif q_one_bound_rad < build_angle_sum_rad && build_angle_sum_rad <= q_two_bound_rad %>
                            <% theta_rad = (build_angle_sum_rad - q_one_bound_rad) %>
                            <% opposite = circumradius * Math.sin(theta_rad) %>
                            <% adjacent = circumradius * Math.cos(theta_rad) %>
                            <% vertices_coordinates.merge!(i => { :x => ( center[:x] - adjacent ), :y => ( center[:y] + opposite) }) %>
                        <% elsif q_two_bound_rad < build_angle_sum_rad && build_angle_sum_rad <= q_three_bound_rad %>
                            <% theta_rad = build_angle_sum_rad - q_two_bound_rad %>
                            <% opposite = circumradius * Math.sin(theta_rad) %>
                            <% adjacent = circumradius * Math.cos(theta_rad) %>
                            <% vertices_coordinates.merge!(i => { :x => ( center[:x] + opposite ), :y => ( center[:y] + adjacent) }) %>
                        <% elsif q_three_bound_rad < build_angle_sum_rad && build_angle_sum_rad <= (q_two_bound_rad * 2) %>
                            <% theta_rad = build_angle_sum_rad - q_three_bound_rad %>
                            <% opposite = circumradius * Math.sin(theta_rad) %>
                            <% adjacent = circumradius * Math.cos(theta_rad) %>
                            <% vertices_coordinates.merge!(i => { :x => ( center[:x] + adjacent ), :y => ( center[:y] - opposite) }) %>
                        <% end %>
                    <% end %>
                    <circle cx="<%= vertices_coordinates.dig(i, :x) %>%" cy="<%= vertices_coordinates.dig(i, :y) %>%" r="0.75%" stroke="black" stroke-width="2" fill="white"></circle>
                    
                    <% build_angle_sum_rad = build_angle_sum_rad + central_angle_rad %>
                    <% i = i.next %>
                <% end %>
                <% l = 1 %>
                <% until l == (vertices_count + 1) %>
                    <% e = 1 %>
                    <% until e == (vertices_count) %>
                        <line x1="<%= vertices_coordinates.dig(l, :x) %>%" 
                            y1="<%= vertices_coordinates.dig(l, :y) %>%" 
                            x2="<%= vertices_coordinates.dig((e), :x) %>%" 
                            y2="<%= vertices_coordinates.dig((e), :y) %>%" 
                            style="stroke:black;stroke-width:2;" />
                        <% e = e.next %>
                        <% end %>
                    <% l = l.next %>
                <% end %>
            </svg>
        <% end %>
    </div>
</div>